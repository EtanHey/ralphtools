{
  "id": "US-057",
  "title": "Ralph uses registry for MCPs",
  "description": "Update ralph() main loop to detect project, build MCP config, inject secrets before spawning Claude. Different projects get different MCPs automatically.",
  "type": "feature",
  "priority": "high",
  "storyPoints": 3,
  "status": "completed",
  "passes": true,
  "acceptanceCriteria": [
    {
      "text": "Ralph detects current project from registry based on cwd",
      "checked": true
    },
    {
      "text": "Ralph builds project-specific MCP config (temp file)",
      "checked": true
    },
    {
      "text": "Ralph passes --mcp-config to claude CLI",
      "checked": true
    },
    {
      "text": "Ralph calls _ralph_inject_secrets before each iteration",
      "checked": true
    },
    {
      "text": "Shows 'ðŸ“¦ Project: {name}' and 'ðŸ”Œ MCPs: {list}' in startup output",
      "checked": true
    },
    {
      "text": "Domica gets supabase+linear MCPs, songscript gets different MCPs",
      "checked": true
    },
    {
      "text": "Typecheck passes (zsh -n ralph.zsh)",
      "checked": true
    }
  ],
  "dependencies": [
    "US-056"
  ]
}
