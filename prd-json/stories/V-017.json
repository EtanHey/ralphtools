{
  "id": "V-017",
  "title": "Verify: ralph-install wizard completeness (TDD)",
  "description": "Opus audit + TDD: Identify wizard setup needs, create tests FIRST, then update wizard criteria.",
  "model": "opus",
  "acceptanceCriteria": [
    {
      "text": "=== UNDERSTAND LAYERED SYSTEM ===",
      "checked": true
    },
    {
      "text": "Review ~/.claude/CLAUDE.md (global layer)",
      "checked": true
    },
    {
      "text": "Review ~/.claude/contexts/ structure and @context directive system",
      "checked": true
    },
    {
      "text": "Review ~/.claude/commands/ symlink structure for skills",
      "checked": true
    },
    {
      "text": "Understand how projects use @context: directives",
      "checked": true
    },
    {
      "text": "=== COMMIT HISTORY AUDIT ===",
      "checked": true
    },
    {
      "text": "Run: git log --oneline | head -100 to see recent features",
      "checked": true
    },
    {
      "text": "Identify setup-related commits (skills, contexts, configs, MCPs)",
      "checked": true
    },
    {
      "text": "Cross-check: does wizard test for each setup item?",
      "checked": true
    },
    {
      "text": "Document gaps in docs.local/wizard-gaps-from-history.md",
      "checked": true
    },
    {
      "text": "=== EXPLORATION ===",
      "checked": true
    },
    {
      "text": "Audit all skills and their ENV/config requirements",
      "checked": true
    },
    {
      "text": "Check 1Password vault structure (development, project vaults)",
      "checked": true
    },
    {
      "text": "Identify MCP servers that need configuration",
      "checked": true
    },
    {
      "text": "List shell config additions (.zshrc sourcing)",
      "checked": true
    },
    {
      "text": "=== TDD: CREATE TESTS FIRST ===",
      "checked": true
    },
    {
      "text": "Add test: test_wizard_creates_global_claude_md()",
      "checked": true
    },
    {
      "text": "Add test: test_wizard_creates_contexts_dir()",
      "checked": true
    },
    {
      "text": "Add test: test_wizard_creates_skill_symlinks()",
      "checked": true
    },
    {
      "text": "Add test: test_wizard_checks_1password()",
      "checked": true
    },
    {
      "text": "Add test: test_wizard_validates_shell_config()",
      "checked": true
    },
    {
      "text": "Tests should FAIL initially (TDD red phase)",
      "checked": true
    },
    {
      "text": "=== UPDATE WIZARD ===",
      "checked": true
    },
    {
      "text": "Document layered system in docs.local/wizard-setup-audit.md",
      "checked": true
    },
    {
      "text": "Update ralph-install skill with missing setup steps",
      "checked": true
    },
    {
      "text": "Run CodeRabbit review - must pass (or create BUG if unfixable)",
      "checked": true
    },
    {
      "text": "Commit: test: V-017 wizard setup TDD tests",
      "checked": true
    }
  ],
  "storyType": "V",
  "priority": "high",
  "dependencies": [],
  "createdAt": "2026-01-24T05:30:00.000Z",
  "passes": true
}
