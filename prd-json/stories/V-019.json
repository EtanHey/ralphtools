{
  "id": "V-019",
  "title": "Verify: Modular ralph.zsh works end-to-end",
  "description": "Verify the modular ralph.zsh split (MP-004) and layered prompts (MP-005) work correctly.\n\nTest scenarios:\n1. Fresh shell sources all modules correctly\n2. All ralph-* commands work (ralph-status, ralph-session, ralph-logs, etc.)\n3. repoGolem creates functions correctly\n4. Story-type prompts are injected correctly\n5. A full ralph iteration completes successfully\n6. Pre-commit hooks still run all tests",
  "acceptanceCriteria": [
    {"text": "Fresh shell: source ralph.zsh, verify all functions exist", "checked": true},
    {"text": "Test ralph-status shows PRD info", "checked": true},
    {"text": "Test ralph-session --paths shows data locations", "checked": true},
    {"text": "Test ralph-logs runs without error", "checked": true},
    {"text": "Test repoGolem creates {name}Claude, open{Name}, run{Name}", "checked": true},
    {"text": "Test US-* story gets US.md prompt injected", "checked": true},
    {"text": "Test BUG-* story gets BUG.md prompt injected", "checked": true},
    {"text": "Test V-* story gets V.md prompt injected", "checked": true},
    {"text": "Run one full ralph iteration on a test story - completes", "checked": true},
    {"text": "Pre-commit hook runs all tests successfully", "checked": true},
    {"text": "Document any gaps found in docs.local/modular-ralph-audit.md", "checked": true},
    {"text": "Run CodeRabbit review - must pass (or create BUG if unfixable)", "checked": true},
    {"text": "Commit: test: V-019 verify modular ralph.zsh works", "checked": false}
  ],
  "storyType": "V",
  "priority": "high",
  "dependencies": ["MP-004", "MP-005"],
  "createdAt": "2026-01-25T00:20:00Z",
  "completedAt": "2026-01-25T06:10:00Z",
  "completedBy": "haiku",
  "passes": true
}
