{
  "id": "AUDIT-003",
  "title": "Audit node-pty architecture before UI integration",
  "description": "Research audit before MP-007. Review docs.local/live-ui-research/ findings, understand node-pty patterns, document what needs to be built. Output: docs.local/audit-node-pty.md",
  "acceptanceCriteria": [
    {"text": "=== READ RESEARCH ===", "checked": true},
    {"text": "Read docs.local/live-ui-research/round-3-agent-9-synthesis.md", "checked": true},
    {"text": "Read docs.local/live-ui-research/tracker.md for wave summaries", "checked": true},
    {"text": "Read docs.local/live-ui-research/round-1-agent-1.md (node-pty deep dive)", "checked": true},
    {"text": "=== CATALOG ===", "checked": true},
    {"text": "List all components needed: pty-wrapper, dual-output, event-emitter", "checked": true},
    {"text": "Document file structure per research recommendation", "checked": true},
    {"text": "Identify existing ralph-ui code that needs modification", "checked": true},
    {"text": "=== ANALYSIS ===", "checked": true},
    {"text": "Document PTYProcess interface requirements", "checked": true},
    {"text": "Document event format (type, timestamp, data, ansi, exitCode)", "checked": true},
    {"text": "Document dual-stream architecture (display vs file path)", "checked": true},
    {"text": "Identify signal handling requirements (Ctrl+C, resize)", "checked": true},
    {"text": "=== RISKS ===", "checked": true},
    {"text": "List node-pty native compilation concerns", "checked": true},
    {"text": "Document TTY detection edge cases (CI, non-TTY)", "checked": true},
    {"text": "List potential breaking changes to current ralph-ui", "checked": true},
    {"text": "=== OUTPUT ===", "checked": true},
    {"text": "Create docs.local/audit-node-pty.md with all findings", "checked": true},
    {"text": "Include implementation order recommendation", "checked": true},
    {"text": "Include success criteria from research", "checked": true},
    {"text": "Run CodeRabbit review - must pass (or create BUG if unfixable)", "checked": true},
    {"text": "Commit: docs: AUDIT-003 node-pty architecture audit", "checked": true}
  ],
  "dependencies": ["V-020"],
  "passes": true,
  "completedAt": "2026-01-25T11:46:00Z",
  "completedBy": "opus"
}
